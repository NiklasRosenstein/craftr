<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf8">
    <title>Tips & Tricks</title>
    <link href="static/style.css" rel="stylesheet">
    <link href="static/pygments.css" rel="stylesheet">
  </head>
  <body>
    
    <div class="sidebar">
      
      <div class="logo">
        <img src="static/logo.png">
      </div>
      
      <div class="title">
        <p><a href="index.html">The Craftr build system</a></p>
      </div>
      <hr/>
      <div class="toc">
        
    <ul>
      
      <li><a class="" href="index.html">Home</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="getting-started.html">Getting Started</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="active" href="tips.html">Tips & Tricks</a></li>
      
        <div class="toc"><ul><li><a href="#Using-Git-submodules-to-manage-dependencies">Using Git submodules to manage dependencies</a></li></ul></div>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="dsl.html">The Craftr DSL</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl.html">Standard Library</a></li>
      
      
    <ul>
      
      <li><a class="" >Language Support</a></li>
      
      
    <ul>
      
      <li><a class="" href="stl/lang/csharp.html">C#</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/lang/cxx.html">C/C++</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/lang/cython.html">Cython</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/lang/haskell.html">Haskell</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/lang/java.html">Java</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/lang/ocaml.html">Ocaml</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/lang/vala.html">Vala</a></li>
      
      
    <ul>
      
    </ul>
    
      
    </ul>
    
      
      <li><a class="" >Libraries</a></li>
      
      
    <ul>
      
      <li><a class="" href="stl/libs/glew.html">GLEW</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/libs/glfw.html">GLFW</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/libs/opencl.html">OpenCL</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/libs/sfml.html">SFML</a></li>
      
      
    <ul>
      
    </ul>
    
      
    </ul>
    
      
      <li><a class="" >Tools</a></li>
      
      
    <ul>
      
      <li><a class="" href="stl/tools/cache.html">Build Cache</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/tools/cmake.html">CMake</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/tools/download.html">Download</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/tools/msvc.html">MSVC</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/tools/pkg-config.html">pkg-config</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/tools/platform-commands.html">Platform Commands</a></li>
      
      
    <ul>
      
    </ul>
    
      
      <li><a class="" href="stl/tools/batchvars.html">Windows Batch Files</a></li>
      
      
    <ul>
      
    </ul>
    
      
    </ul>
    
      
    </ul>
    
      
      <li><a class="" href="extending-craftr.html">Extending Craftr</a></li>
      
      
    <ul>
      
    </ul>
    
      
    </ul>
    
      </div>
      
        <hr/>
        <div class="author">
          <p class="subtitle">About the author:</p>
          
          <a href="https://github.com/NiklasRosenstein">@NiklasRosenstein on GitHub</a>
          
          
          <a href="mailto:rosensteinniklas@gmail.com">Contact via email</a>
          
        </div>
      
      <hr/>
      <div class="statigen-notice">Built with <a href="https://github.com/NiklasRosenstein/statigen">statigen</a>.</div>
    </div>
    <div class="content">
      <div class="content-inner">
        
          <h1>Tips & Tricks</h1>
        
        <h2 id="Using-Git-submodules-to-manage-dependencies">Using Git submodules to manage dependencies</h2>
<p>Git submodules can be useful to keep track of a projects dependencies.
For example, consider your project requires a library from GitHub that
comes with a Craftr build script:</p>
<pre><code>git submodule add https://github.com/mycompany/somelibrary.git vendor/mycompany/somelibrary
</pre></code>
<p>If the module provides a <code class="codespan">nodepy.json</code>, you could use the Node.py package
manager to link the module into the build system.</p>
<pre><code>nodepy-pm install -e vendor/mycompany/somelibrary
</pre></code>
<p>If the project however only contains a <code class="codespan">build.craftr</code> script, you can use
the <code class="codespan">craftr --link</code> command, which essentially does the same and derives
the Node.py module name from the project name defined in the build script.</p>
<pre><code>craftr --link vendor/mycompany/somelibrary
</pre></code>
<p>The cleanest way however would be to use the <code class="codespan">link_module</code> statement provided
by the Craftr DSL. It basically does the same as the <code class="codespan">craftr --link</code> command,
but it will do the linking step in a temporary directory every time that you
configure the build. Also, if multiple modules try to link other modules with
the same name, the order matters and the first one to link a module takes
precedence.</p><div class="highlight"><pre><span></span><span class="n">project</span> <span class="s2">&quot;myproject&quot;</span>
<span class="n">link_module</span> <span class="s2">&quot;./vendor/mycompany/somelibrary&quot;</span>

<span class="n">target</span> <span class="s2">&quot;main&quot;</span><span class="p">:</span>
  <span class="n">requires</span> <span class="s2">&quot;mycompany/somelibrary&quot;</span>
  <span class="c1"># ...</span>
</pre></div>

      </div>
    </div>
  </body>
</html>